<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style2.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warden Information</title>
</head>
<body>
    <div class="sidebar">
		<h2><a href="Index.html"> Menu </a></h2>
		<ul>
			<li><a href="vacantrooms.html">Allocate Rooms</a></li>
			<li><a href="allresidents.html">Hostalites</a></li>
            <li><a href="newapplications.html">New Applications</a></li>
			<li><a href="wardeninformation.html">View profile</a></li>
			<li><a href="#">Complaints</a></li>
			<li><button id="logout-btn" onclick="logOut()">Log Out</button></li>
		</ul>
	</div>
    <div class="main">
		<h1>Warden Information</h1>
		<div class="cards2">
			<div class="card2">
				<img id="wardenphoto" src="warden-men.jpg" alt="Warden of Men Hostel">
				<h2 id="wardenname">D</h2>
				<p id="wardencontact">Contact: 0</p>
				<p id="wardenemail">Email: d@hostel.com</p>
			</div>
			
		</div>
	</div>
<script>
	  const wardenphotoelement = document.getElementById('wardenphoto');
	  const wardennameelement = document.getElementById('wardenname');
	  const wardencontactelement = document.getElementById('wardencontact');
	  const wardenemailelement = document.getElementById('wardenemail');

	  function updateinformation(){
//update warden name

fetch('http://127.0.0.1:8080/api/warden/getMyProfile/john.doe@example.com', {
      method: "get", // *GET, POST, PUT, DELETE, etc.
      cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
      headers: {
        "Content-Type": "application/json",
        // 'Content-Type': 'application/x-www-form-urlencoded',
      },
      redirect: "follow", // manual, *follow, error
      referrerPolicy: "no-referrer",
    }).then(response => {
      if (response.ok) {
        if (response.ok) {
          return response.json();
        }
      } else {
        // Display error message
        console.log("Error occured")
      }
    }).then((responseJson) => {
      dummyData = responseJson;
      const name=dummyData.warden_name;
      const contact=dummyData.contact;
      const email=dummyData.email;
      wardennameelement.textContent =name ;
      wardencontactelement.textContent=contact;
      wardenemailelement.textContent=email;
    })
      .catch(error => {
        console.log("Error occured ", error)
      });

//update warden name


	  }
	  updateinformation();

</script>
    
</body>
</html>